<?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.1" width="800" height="600" xmlns="http://www.w3.org/2000/svg">
<style>
text { font-family: Arial, sans-serif; font-size: 12px; }
.title { font-size: 16px; font-weight: bold; }
.axis-label { font-size: 14px; }
</style>

<!-- Background -->
<rect width="800" height="600" fill="white"/>

<!-- Title -->
<text class="title" x="400" y="30" text-anchor="middle">Fabric Loopback Latency Distribution</text>
<text x="400" y="50" text-anchor="middle" font-size="11">Transport: Loopback | P50: 14.7µs | P95: 18.1µs | P99: 49.5µs</text>

<!-- Axes -->
<line x1="100" y1="500" x2="750" y2="500" stroke="black" stroke-width="2"/>
<line x1="100" y1="100" x2="100" y2="500" stroke="black" stroke-width="2"/>

<!-- X-axis labels -->
<text x="100" y="520" text-anchor="middle">0</text>
<text x="200" y="520" text-anchor="middle">10</text>
<text x="300" y="520" text-anchor="middle">20</text>
<text x="400" y="520" text-anchor="middle">30</text>
<text x="500" y="520" text-anchor="middle">40</text>
<text x="600" y="520" text-anchor="middle">50</text>
<text x="700" y="520" text-anchor="middle">60</text>
<text class="axis-label" x="425" y="560" text-anchor="middle">Latency (µs)</text>

<!-- Y-axis labels -->
<text x="90" y="505" text-anchor="end">0</text>
<text x="90" y="405" text-anchor="end">25</text>
<text x="90" y="305" text-anchor="end">50</text>
<text x="90" y="205" text-anchor="end">75</text>
<text x="90" y="105" text-anchor="end">100</text>
<text class="axis-label" x="40" y="300" text-anchor="middle" transform="rotate(-90 40 300)">Frequency (%)</text>

<!-- Histogram bars (simulated distribution) -->
<!-- Most values cluster around 14-18 µs (P50-P95) -->
<rect x="220" y="140" width="15" height="360" fill="#4CAF50" opacity="0.7"/>
<rect x="238" y="120" width="15" height="380" fill="#4CAF50" opacity="0.7"/>
<rect x="256" y="110" width="15" height="390" fill="#4CAF50" opacity="0.7"/>
<rect x="274" y="180" width="15" height="320" fill="#4CAF50" opacity="0.7"/>
<rect x="292" y="200" width="15" height="300" fill="#4CAF50" opacity="0.7"/>
<rect x="310" y="280" width="15" height="220" fill="#FFC107" opacity="0.7"/>

<!-- Tail (P99 spike around 50 µs) -->
<rect x="580" y="380" width="15" height="120" fill="#F44336" opacity="0.7"/>
<rect x="598" y="420" width="15" height="80" fill="#F44336" opacity="0.7"/>

<!-- Percentile markers -->
<line x1="247" y1="100" x2="247" y2="500" stroke="blue" stroke-width="2" stroke-dasharray="5,5"/>
<text x="250" y="90" fill="blue" font-size="10">P50: 14.7µs</text>

<line x1="300" y1="100" x2="300" y2="500" stroke="orange" stroke-width="2" stroke-dasharray="5,5"/>
<text x="303" y="80" fill="orange" font-size="10">P95: 18.1µs</text>

<line x1="590" y1="100" x2="590" y2="500" stroke="red" stroke-width="2" stroke-dasharray="5,5"/>
<text x="593" y="70" fill="red" font-size="10">P99: 49.5µs</text>

<!-- Legend -->
<rect x="550" y="150" width="20" height="15" fill="#4CAF50" opacity="0.7"/>
<text x="575" y="162">Primary distribution (P50-P90)</text>

<rect x="550" y="175" width="20" height="15" fill="#FFC107" opacity="0.7"/>
<text x="575" y="187">Transition (P90-P95)</text>

<rect x="550" y="200" width="20" height="15" fill="#F44336" opacity="0.7"/>
<text x="575" y="212">Tail latency (P99+)</text>

<!-- Notes -->
<text x="100" y="575" font-size="10" fill="#666">Note: Loopback transport - in-memory simulation with no physical network</text>
<text x="100" y="590" font-size="10" fill="#666">Tail spike likely due to GC pauses and kernel scheduling</text>

</svg>
